"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.generateNewId = exports.parseObjCustomState = void 0;
function parseObjCustomState(obj) {
    const state = obj === null || obj === void 0 ? void 0 : obj.customState;
    if (state) {
        try {
            return JSON.parse(state);
        }
        catch (e) {
            console.log("error getting custom state");
        }
    }
    return null;
}
exports.parseObjCustomState = parseObjCustomState;
const generateNewId = (currId, idList) => {
    const digitsAtEndMatch = currId.match(/\d+$/);
    let newId;
    if (digitsAtEndMatch && digitsAtEndMatch[0]) {
        const indexOfDigits = currId.indexOf(digitsAtEndMatch[0]);
        newId = currId.substring(0, indexOfDigits) + (parseInt(digitsAtEndMatch[0], 10) + 1);
    }
    else {
        newId = currId + "-2";
    }
    if (idList.includes(newId)) {
        return (0, exports.generateNewId)(newId, idList);
    }
    else {
        return newId;
    }
};
exports.generateNewId = generateNewId;
//# sourceMappingURL=objectUtils.js.map