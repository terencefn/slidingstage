"use strict";
exports.__esModule = true;
exports.generatePlayerChangesMapsEvent = void 0;
function generatePlayerChangesMapsEvent(event, game, syntheticEvents) {
    var _a, _b;
    var _c = event.playerMoves, encId = _c.encId, newMapId = _c.mapId;
    var playerUid = (_a = game.getPlayerUidFromEncId(encId)) !== null && _a !== void 0 ? _a : "";
    var oldMapId = (_b = game.players[playerUid]) === null || _b === void 0 ? void 0 : _b.map;
    if (newMapId && oldMapId && newMapId !== oldMapId) {
        var playerChangesMaps = {
            encId: encId,
            newMapId: newMapId,
            oldMapId: oldMapId
        };
        var syntheticEvent = {
            $case: "playerChangesMaps",
            playerChangesMaps: playerChangesMaps
        };
        syntheticEvents.push(syntheticEvent);
    }
}
exports.generatePlayerChangesMapsEvent = generatePlayerChangesMapsEvent;
//# sourceMappingURL=PlayerChangesMaps.js.map