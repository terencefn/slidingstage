"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.generatePlayerChangesMapsEvent = void 0;
function generatePlayerChangesMapsEvent(event, game, syntheticEvents) {
    var _a, _b;
    const { encId, mapId: newMapId } = event.playerMoves;
    const playerUid = (_a = game.getPlayerUidFromEncId(encId)) !== null && _a !== void 0 ? _a : "";
    const oldMapId = (_b = game.players[playerUid]) === null || _b === void 0 ? void 0 : _b.map;
    if (newMapId && oldMapId && newMapId !== oldMapId) {
        const playerChangesMaps = {
            encId,
            newMapId,
            oldMapId,
        };
        const syntheticEvent = {
            $case: "playerChangesMaps",
            playerChangesMaps,
        };
        syntheticEvents.push(syntheticEvent);
    }
}
exports.generatePlayerChangesMapsEvent = generatePlayerChangesMapsEvent;
//# sourceMappingURL=PlayerChangesMaps.js.map