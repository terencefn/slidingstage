"use strict";
exports.__esModule = true;
exports.fillOrCreateContext = void 0;
function fillOrCreateContext(event, game, context) {
    var _a;
    if (!context) {
        context = { spaceId: (_a = game.spaceId) !== null && _a !== void 0 ? _a : "" };
    }
    var eventAny = event[event.$case];
    if (eventAny["encId"]) {
        var encId = eventAny.encId;
        var uid = game.getPlayerUidFromEncId(encId);
        context.player = context.player || game.players[uid];
        context.playerId = uid;
    }
    if (eventAny["encIdTarget"]) {
        var encIdTarget = eventAny.encIdTarget;
        var uidTarget = game.getPlayerUidFromEncId(encIdTarget);
        context.target = game.players[uidTarget];
        context.targetId = uidTarget;
    }
    if (eventAny["mapId"]) {
        var mapId = eventAny.mapId;
        context.map = game.partialMaps[mapId];
    }
    return context;
}
exports.fillOrCreateContext = fillOrCreateContext;
//# sourceMappingURL=GameEventContexts.js.map